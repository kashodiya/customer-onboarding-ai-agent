{
  "type": "object",
  "properties": {
    "existingFlows": {
      "type": "object",
      "title": "Section 1: Existing Flows",
      "properties": {
        "sourceApplicationName": {
          "type": "string",
          "title": "1. Source Application Name"
        },
        "targetApplicationName": {
          "type": "string",
          "title": "2. Target Application Name"
        },
        "isUsingIODS": {
          "type": "boolean",
          "title": "3. Is the application using IODS?"
        },
        "iodsDetails": {
          "type": "object",
          "title": "IODS Details",
          "properties": {
            "oldIodsId": {
              "type": "string",
              "title": "Old IODS ID"
            },
            "onSiteServerNames": {
              "type": "string",
              "title": "On Site Server Application Names"
            },
            "fileName": {
              "type": "string",
              "title": "File Name"
            },
            "fileType": {
              "type": "string",
              "title": "File Type"
            },
            "iodsMailbox": {
              "type": "string",
              "title": "IODS Mailbox or Drop Location Name"
            },
            "prePostTransferProcesses": {
              "type": "string",
              "title": "Pre/Post Transfer Processes"
            }
          }
        }
      },
      "required": [
        "sourceApplicationName",
        "targetApplicationName",
        "isUsingIODS"
      ]
    },
    "applicationInfo": {
      "type": "object",
      "title": "Section 2: Application Information",
      "properties": {
        "systemName": {
          "type": "string",
          "title": "System Name"
        },
        "internalOrExternal": {
          "type": "string",
          "title": "Internal or External Application",
          "enum": [
            "Internal",
            "External"
          ]
        },
        "supportedProtocols": {
          "type": "string",
          "title": "Supported Protocols"
        },
        "platform": {
          "type": "string",
          "title": "System Platform"
        },
        "environments": {
          "type": "array",
          "items": {
            "type": "string",
            "enum": [
              "DEV",
              "QA",
              "PROD"
            ]
          },
          "uniqueItems": true,
          "title": "Environments In Scope"
        },
        "primaryRegion": {
          "type": "string",
          "enum": [
            "NORTH",
            "SOUTH"
          ],
          "title": "Primary Region"
        },
        "backupRegion": {
          "type": "string",
          "enum": [
            "NORTH",
            "SOUTH",
            "None"
          ],
          "title": "Backup Region"
        }
      },
      "required": [
        "systemName",
        "internalOrExternal",
        "supportedProtocols",
        "platform",
        "environments",
        "primaryRegion",
        "backupRegion"
      ]
    },
    "networkCloudInfo": {
      "type": "object",
      "title": "Section 3: Network Boundary and Cloud Boundary",
      "properties": {
        "networkLocation": {
          "type": "string",
          "enum": [
            "On Site",
            "Cloud"
          ],
          "title": "Network Location"
        },
        "cloudDetails": {
          "type": "object",
          "properties": {
            "awsAccountName": {
              "type": "string",
              "title": "AWS Cloud Account Name"
            },
            "awsAccountNumber": {
              "type": "string",
              "title": "AWS Cloud Account Number"
            },
            "cloudRegion": {
              "type": "string",
              "title": "Cloud Region Name"
            },
            "awsCloudId": {
              "type": "string",
              "title": "AWS Cloud ID"
            },
            "serverName": {
              "type": "string",
              "title": "Server Name"
            },
            "ipOrSubnet": {
              "type": "string",
              "title": "IP or Subnet"
            },
            "applicationTarget": {
              "type": "string",
              "title": "Application Target"
            }
          }
        },
        "requiresExternalVendorConnection": {
          "type": "boolean",
          "title": "Requires External Vendor Connection?"
        }
      },
      "required": [
        "networkLocation",
        "requiresExternalVendorConnection"
      ]
    },
    "fileTransferInfo": {
      "type": "object",
      "title": "Section 4: File Transfer Information (Cloud)",
      "properties": {
        "hasOutbound": {
          "type": "boolean",
          "title": "Outbound Request (Cloud to On Site)?"
        },
        "sourceAwsAccount": {
          "type": "string",
          "title": "Source AWS Account"
        },
        "sourceBucketArn": {
          "type": "string",
          "title": "Source Bucket ARN"
        },
        "sourceArchiveBucket": {
          "type": "string",
          "title": "Source Archive Bucket"
        },
        "sourceArchivePrefix": {
          "type": "string",
          "title": "Source Archive Prefix"
        },
        "hasInbound": {
          "type": "boolean",
          "title": "Inbound Request (On Site to Cloud)?"
        },
        "targetBucket": {
          "type": "string",
          "title": "Target Bucket"
        },
        "targetPrefix": {
          "type": "string",
          "title": "Target Prefix"
        }
      },
      "required": [
        "hasOutbound",
        "hasInbound"
      ]
    },
    "environmentInfo": {
      "type": "object",
      "title": "Section 5: Environment Information",
      "properties": {
        "customerEnvironments": {
          "type": "string",
          "title": "Customer Environments In Scope"
        },
        "cloudEnvironmentMapping": {
          "type": "object",
          "properties": {
            "development": {
              "type": "string",
              "title": "DEV maps to",
              "enum": [
                "DEV",
                "QA",
                "PROD"
              ]
            },
            "qualityAssurance": {
              "type": "string",
              "title": "QA maps to",
              "enum": [
                "DEV",
                "QA",
                "PROD"
              ]
            },
            "production": {
              "type": "string",
              "title": "PROD maps to",
              "enum": [
                "DEV",
                "QA",
                "PROD"
              ]
            }
          },
          "required": [
            "development",
            "qualityAssurance",
            "production"
          ]
        }
      },
      "required": [
        "customerEnvironments",
        "cloudEnvironmentMapping"
      ]
    },
    "businessInfo": {
      "type": "object",
      "title": "Section 6: Business Information",
      "properties": {
        "implementationDeadline": {
          "type": "string",
          "format": "date",
          "title": "Implementation Deadline"
        },
        "contacts": {
          "type": "object",
          "properties": {
            "businessContactSource": {
              "type": "string",
              "title": "Business Contact (Source)"
            },
            "technicalContactSource": {
              "type": "string",
              "title": "Technical Contact (Source)"
            },
            "businessContactTarget": {
              "type": "string",
              "title": "Business Contact (Target)"
            },
            "technicalContactTarget": {
              "type": "string",
              "title": "Technical Contact (Target)"
            },
            "vendorContact": {
              "type": "string",
              "title": "Vendor Contact (if External)"
            }
          },
          "required": [
            "businessContactSource",
            "technicalContactSource",
            "businessContactTarget",
            "technicalContactTarget"
          ]
        }
      }
    }
  },
  "required": [
    "existingFlows",
    "applicationInfo",
    "networkCloudInfo",
    "fileTransferInfo",
    "environmentInfo",
    "businessInfo"
  ]
}